extends ../layout

block content
  h2.
    #[a(href='/applications/') applications]
    &nbsp;&gt;&nbsp;
    #[a(href='/applications/#{application.name}') #{application.name}]
    &nbsp;&gt;&nbsp;
    platforms

  .application-permissions
    each applicationPlatform in applicationPlatforms
      .row
        .col-md-12
          h3= applicationPlatform.Platform.name
          p= applicationPlatform.Platform.description
      .row
        .col-md-3
          div(class='platform-icon platform-icon--#{applicationPlatform.Platform.name}')
          ul.list-unstyled
            li #[a(href='#{applicationPlatform.Platform.website}') website]
        .col-md-9
          form(name=applicationPlatform.Platform.name, action='platforms/#{applicationPlatform.id}', method='post', accept-charset='utf-8')
            .form-group
              label(for='token') token
              input.form-control(type='text', name='token', pattern='^[a-zA-Z0-9-]+$', value=applicationPlatform.token, required='')
            .form-group
              label(for='clientId') client id
              input.form-control(type='text', name='clientId', pattern='^[a-zA-Z0-9-]+$', value=applicationPlatform.clientId)
            .form-group
              label(for='commandToken') command token
              input.form-control(type='text', name='commandToken', pattern='^[a-zA-Z0-9-]+$', value=applicationPlatform.commandToken)
              p.help-block Slack-specific token to authenticate slash command requests.
            .form-group.pull-right
              button(type='reset' class='btn btn-default') reset
              &nbsp;
              button(type='submit' class='btn btn-primary') save